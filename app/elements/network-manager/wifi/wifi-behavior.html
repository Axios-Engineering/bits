<link rel="import" href="/elements/network-manager/socket-events-behavior.html">

<script src="/elements/network-manager/scripts/bundle.js"></script>
<script>
  (function(global) {
    'use strict';

    var Bits = global.Bits = global.Bits || {};

    const TAG = 'NETWORK_MGR:WIFI:BEHAVIOR';
    const debug = Bits.utils.getDebugger(TAG);

    var WifiConfigurationBehaviorImpl = {
      properties: {
        //Represents the WifiConfigCollection from the server side, an array of WifiConfig objects
      },

      ready: function () {
        debug('ready');

        //Register any initialization runnables
        this.initialize();
      },

      socketApply: function () {
        debug('socketApply', this.wifiConfigs);
        return Promise.resolve()
                .then(() => this._notifyIsSaving(true))
                .then(() => this.createRequest(this.events.WIFI.APPLY_CONFIGS, this.wifiConfigs))
                .then((response) => this._handleConfigResponse(response, 'apply'))
                .then(() => this._notifyIsSaving(false))
                .catch((err) => this._handleError(err))
                .then(() => this._notifyIsSaving(false));
      }

  };//End Polymer

  Bits.WifiConfigurationBehavior = [

    Bits.NetworkManagerSocketEventsBehavior,
    WifiConfigurationBehaviorImpl
  ];
  }(this));
</script>
