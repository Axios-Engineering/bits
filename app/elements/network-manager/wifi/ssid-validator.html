<link rel="import" href="../../../bower_components/iron-validator-behavior/iron-validator-behavior.html">

<dom-module id="ssid-validator">

  <script src="/elements/network-manager/scripts/bundle.js"></script>
  <script>
    (function() {
      'use strict';

      const TAG = 'NETWORK_MGR:WIFI:VALIDATOR:SSID';
      const debug = window.Bits.utils.getDebugger(TAG);

      Polymer({

        is: 'ssid-validator',

        properties: {
          validatorName: {
            type: String
          },

          ssidRegex: {
            type: Object,
            value: function() {
              //Wikipedia: SSID should be 32bytes of UTF-8 which is 4bytes per char
              //We are restricting to 4 - 32 ASCII chars so \one byte per char
              return new RegExp(/^[a-zA-Z0-9-_\.]{4,32}$/);
            }
          },

          isForDns: {
            type: Boolean,
            value: false,
            notify: true
          }
        },

        behaviors: [Polymer.IronValidatorBehavior],

        attached: function () {
          debug('attached()');

        },

        /**
         * Override
         * Performs validation of the supplied IPv4 address
         * @param values
         * @returns {boolean}
         */
        validate: function(ssid){
          debug('validate', ssid);
          return this.ssidRegex.test(ssid);
        }

      });

    }());
  </script>

</dom-module>
